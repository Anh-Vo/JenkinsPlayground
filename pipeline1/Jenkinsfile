pipeline {
  parameters{
      booleanParam(defaultValue: true, description: '', name: 'build')
      booleanParam(defaultValue: true, description: '', name: 'archive')
  }
  agent any
  
  stages{
    stage ('Build') {
    when { expression { return params.build } }
      steps {
        echo 'Building...' 
      }  
    }

    stage('Archive') {
      when { expression { return params.deploy } }
      steps {
        echo 'Archiving...'
      } 
    }

    stage('Deploy') {
      steps {
        input ([ 
                message: 'Are you sure you want to deploy into production?',
                ok: 'Yes'
        ]) 

        echo 'Deploying...'
      } 
    }

  }
}
